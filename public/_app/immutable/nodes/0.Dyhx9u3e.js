import{d as H,c as C,a as i,s as J,f as v,b as S,e as u}from"../chunks/CQx0q4k3.js";import{b as K,a4 as Q,ap as X,R as ee,U as ae,a1 as g,V as te,W as T,Z as o,e as x,Y as s,_ as n,S as se,a0 as F}from"../chunks/QCr8S_d5.js";import{B as ne,i as I}from"../chunks/afW7fTtA.js";import{e as oe}from"../chunks/D0M3cO9m.js";import{s as b,i as re,t as le,b as ie,u as ve}from"../chunks/NuMtav88.js";import{p as ce}from"../chunks/CVuDLpp-.js";function fe(r,d,...c){var m=new ne(r);K(()=>{const f=d()??null;m.ensure(f,f&&(y=>f(y,...c)))},Q)}const he=!1,ue=!1,Se=Object.freeze(Object.defineProperty({__proto__:null,prerender:he,ssr:ue},Symbol.toStringTag,{value:"Module"})),de=localStorage.getItem("pulse-theme"),M=X(de||"dark");M.subscribe(r=>{localStorage.setItem("pulse-theme",r),document.documentElement.setAttribute("data-theme",r)});var me=v(`<div class="offline-bar svelte-12qhfyh">You're offline — some features may not work</div>`),pe=v('<a href="/mine">My Polls</a> <a href="/new">Create</a>',1),_e=v('<span class="user-badge svelte-12qhfyh"> </span> <button class="nav-btn svelte-12qhfyh">Sign out</button>',1),ge=v('<a href="/auth" class="nav-btn svelte-12qhfyh">Sign in</a>'),be=v("<div> </div>"),ye=v('<div class="shell svelte-12qhfyh"><!> <nav class="svelte-12qhfyh"><a href="/" class="logo svelte-12qhfyh">◉ Pulse</a> <div class="nav-links svelte-12qhfyh"><a href="/">Recent</a> <!></div> <!> <button class="theme-toggle svelte-12qhfyh" aria-label="Toggle theme"> </button></nav> <main class="svelte-12qhfyh"><!></main> <div class="toasts svelte-12qhfyh"></div></div>');function Te(r,d){ee(d,!0);const c=()=>u(ce,"$page",h),m=()=>u(re,"$isLoggedIn",h),f=()=>u(ve,"$user",h),y=()=>u(M,"$theme",h),N=()=>u(le,"$toasts",h),[h,O]=J();let p=se(!1);ae(()=>{T(p,!navigator.onLine);const e=()=>T(p,!1),a=()=>T(p,!0);return window.addEventListener("online",e),window.addEventListener("offline",a),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",a)}});function Y(){M.update(e=>e==="dark"?"light":"dark")}var q=ye(),P=o(q);{var z=e=>{var a=me();i(e,a)};I(P,e=>{x(p)&&e(z)})}var w=s(P,2),$=s(o(w),2),R=o($);let A;var U=s(R,2);{var V=e=>{var a=pe(),t=F(a);let l;var L=s(t,2);let _;g(()=>{l=b(t,1,"svelte-12qhfyh",null,l,{active:c().url.pathname==="/mine"}),_=b(L,1,"svelte-12qhfyh",null,_,{active:c().url.pathname==="/new"})}),i(e,a)};I(U,e=>{m()&&e(V)})}n($);var j=s($,2);{var W=e=>{var a=_e(),t=F(a),l=o(t,!0);n(t);var L=s(t,2);g(()=>S(l,f())),C("click",L,function(..._){ie?.apply(this,_)}),i(e,a)},Z=e=>{var a=ge();i(e,a)};I(j,e=>{m()?e(W):e(Z,!1)})}var k=s(j,2),D=o(k,!0);n(k),n(w);var E=s(w,2),G=o(E);fe(G,()=>d.children),n(E);var B=s(E,2);oe(B,5,N,e=>e.id,(e,a)=>{var t=be(),l=o(t,!0);n(t),g(()=>{b(t,1,`toast ${x(a).type??""}`,"svelte-12qhfyh"),S(l,x(a).message)}),i(e,t)}),n(B),n(q),g(()=>{A=b(R,1,"svelte-12qhfyh",null,A,{active:c().url.pathname==="/"}),S(D,y()==="dark"?"☀":"☾")}),C("click",k,Y),i(r,q),te(),O()}H(["click"]);export{Te as component,Se as universal};
